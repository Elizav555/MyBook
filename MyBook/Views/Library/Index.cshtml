@model MyBook.ViewModels.LibraryViewModel;
@using MyBook.Entities;
@using MyBook.Helpers.SortHelper
<!DOCTYPE html>
<html>
<head>
    <title>Библиотека</title>
</head>
<body>
<div>
    <div class="container">
            <h3 class="h3"><b>Популярные категории</b></h3>
            <div class="row">
                <article class="postcard_mini">
                    <div class="-columns">
                    <p class="genreName"><b>Фантастика</b></p>0
                    </div>
                    <img class="genre_img" src="~/assets/img/fantastic.png" alt="">
                </article>
                <article class="postcard_mini">
                    <p class="genreName"><b>Фэнтези</b></p>
                    <img class="genre_img" src="~/assets/img/fantasy.png" alt="">
                </article>
            </div>
        </div>
<div class="customCarousel container mb-4">
    <div class="row">
        <div class="col-md-8">
            <h1 class="h1 ms-4 mb-2">Все книги</h1>
            <h3 class="h3 ms-4 mb-4 text-secondary">@Model.AllBooks.Count() книг</h3>
            <form asp-action="Index" asp-controller="Library" method="POST">
                            <label class="Search">Порядок: </label>
                            @Html.DropDownList("sortOrder", BooksSortHelper.Orders)
                            <input  name="sortOrder" value="Отфильтровать" type="submit"  class="btn btn-default" /> 
                        </form>
            @await Component.InvokeAsync("BooksCarousel",new List<Book>(Model.AllBooks))
        </div>
        <div class="col-6 col-md-4">
            <form asp-action="Index" asp-controller="Library" method="POST">
                <label class="Search">Язык </label>
                @Html.DropDownList("filterLanguage", Model.Languages as List<SelectListItem>)
                <br>
                <label class="Search">Жанр </label>
                @Html.DropDownList("filterGenre", Model.Genres as List<SelectListItem>)
                <br> 
                <input  name="filter" value="Отфильтровать" type="submit"  class="btn btn-default" /> 
            </form>
        </div>
    </div>
    <div class="customCarousel container mb-4">
        <h1 class="h1 ms-4 mb-2">Все авторы</h1>
        <h3 class="h3 ms-4 mb-4 text-secondary">@Model.AllAuthors.Count() авторов</h3>
        @await Component.InvokeAsync("AuthorsCarousel", new List<Author>(Model.AllAuthors))
    </div>
</div>
</div>
</body>
</html>